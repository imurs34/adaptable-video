<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    
    #mySlider {
      width: 100%;
    }

    .slider {
      -webkit-appearance: none;
      width: 100%;
      height: 25px;
      background: #d3d3d3;
      outline: none;
      opacity: 0.7;
      -webkit-transition: .2s;
      transition: opacity .2s;
    }

    .slider:hover {
      opacity: 1;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 25px;
      height: 25px;
      background: #4CAF50;
      cursor: pointer;
    }

    .slider::-moz-range-thumb {
      width: 25px;
      height: 25px;
      background: #4CAF50;
      cursor: pointer;
    }

    #pText {
      position: absolute;
      top: 30%;
      left: 30%;
      color: yellow;
      font-size: 110%;
    }
  </style>
</head>

<body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


  <script>
    const NUM_SECONDS_EACH_SLIDE = 4; // seconds for each slide 
    var num = 0;
    var images = ["img_nature_wide.jpg", "img_snow_wide.jpg", "img_mountains_wide.jpg"];
    var text = ["My Header!", "My Other Header", "Something I liked to write! "];

    function log(arrOfValues){
        arrOfValues.forEach(x => console.log(x));
    }

    function showValue(val) {
      

      var floored = Math.floor(val); 
      var imageNum = Math.floor((floored/NUM_SECONDS_EACH_SLIDE)% images.length); 
      var hour = parseInt(floored / 60);
      var minute = floored %60; 
      minute = minute == 0 || minute < 10 ? ("0" + minute) : minute;
      document.querySelector("#val").innerHTML = `${hour}:${minute}`;
      $("#numbertext").text(((imageNum) + 1) + " / " + images.length + " - " + images[imageNum]);
      // log(["Changed value? Outside ",floored, val, imageNum]); 
      $("#slide").attr("src", images[imageNum]);
      $("#pText").css("top", `${(imageNum + 2) * 10}%`);
      $("#pText").css("left", `${(imageNum+ 1) * 10}%`);
      
    }

    var startClock;
    var hasStarted = false;

    function stopClock() {
      hasStarted = false;
      clearInterval(startClock);
    }

    function resetClock() {
      document.querySelector("#mySlider").value = 0;
      stopClock();
      beginClock();
    }


    function beginClock() {
      if (hasStarted == false) {
        startClock = setInterval(function () {
          var val = parseFloat(document.querySelector("#mySlider").value) + .2;
          //document.querySelector("#val").innerHTML = val.toFixed(0); 
          document.querySelector("#mySlider").value = val;
          log([val]);
          showValue(val);
          
        }, 200);
        hasStarted = true; 
      }


      function getRandomNum() {
        return Math.floor(Math.random() * 10);
      }

      
    }
  </script>
  <h1>Custom Range Slider</h1>


  <div class="mySlides fade">
    <div id="numbertext">1 / 3</div>
    <img id="slide" src="img_nature_wide.jpg" style="width:100%">
    <p id="pText">My Header!</p>
  </div>
  <p id="val"> </p>
  <input type="range" min="0" max="120" value="0" id="mySlider" step=".2" oninput="showValue(this.value)">


  <button onclick="stopClock()">Pause</button>
  <button onclick="beginClock()">Start</button>
  <button onclick="resetClock()">Reset</button>

</body>

</html>